@{
    ViewBag.Title = "Creating XSD and XML in .NET";
}

<h1>Creating XSD and XML in .NET</h1>
<p>Following is the code for creating an Xml Schema and based on that creating XML.</p>
<pre>
    <span style='color:#696969; '>// The DataSet name becomes the root XML element</span>
    DataSet MyDataSet <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>new</span> DataSet<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Movies</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#696969; '>// This can be confusing, the 'DataTable' will actually</span>
    <span style='color:#696969; '>// become Elements (Rows) in the XML file.</span>
    DataTable MyDataTable <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>new</span> DataTable<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Movie</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    MyDataSet<span style='color:#808030; '>.</span>Tables<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span>MyDataTable<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#696969; '>// Make columns attributes so we can</span>
    <span style='color:#696969; '>// link directly to a GridView</span>
    MyDataTable<span style='color:#808030; '>.</span>Columns<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>new</span> DataColumn<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ID</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>typeof</span><span style='color:#808030; '>(</span>System<span style='color:#808030; '>.</span>Int32<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>null</span><span style='color:#808030; '>,</span>MappingType<span style='color:#808030; '>.</span>Attribute<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    MyDataTable<span style='color:#808030; '>.</span>Columns<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>new</span> DataColumn<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>typeof</span><span style='color:#808030; '>(</span>String<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>null</span><span style='color:#808030; '>,</span>MappingType<span style='color:#808030; '>.</span>Attribute<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    MyDataTable<span style='color:#808030; '>.</span>Columns<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>new</span> DataColumn<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Genre</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>typeof</span><span style='color:#808030; '>(</span>DateTime<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>null</span><span style='color:#808030; '>,</span>MappingType<span style='color:#808030; '>.</span>Attribute<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#696969; '>// Write out the XSD</span>
    MyDataSet<span style='color:#808030; '>.</span>WriteXmlSchema<span style='color:#808030; '>(</span><span style='color:#800000; '></span><span style='color:#0000e6; '>D:\MovieSchema.xsd</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#696969; '>// Put some data in the table</span>
    DataRow TempRow<span style='color:#800080; '>;</span>
    TempRow <span style='color:#808030; '>=</span> MyDataTable<span style='color:#808030; '>.</span>NewRow<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ID</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>Journey 2 – Mysterious Island</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Genre</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> “Adventure”<span style='color:#800080; '>;</span>
    MyDataTable<span style='color:#808030; '>.</span>Rows<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span>TempRow<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    TempRow <span style='color:#808030; '>=</span> MyDataTable<span style='color:#808030; '>.</span>NewRow<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ID</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>2</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>Avatar</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Genre</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> “Adventure”<span style='color:#800080; '>;</span>
    MyDataTable<span style='color:#808030; '>.</span>Rows<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span>TempRow<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    TempRow <span style='color:#808030; '>=</span> MyDataTable<span style='color:#808030; '>.</span>NewRow<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ID</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>3</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Name</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>Argo</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
    TempRow<span style='color:#808030; '>[</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Genre</span><span style='color:#800000; '>"</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> “Drama<span style='color:#808030; '>,</span> Suspense”<span style='color:#800080; '>;</span>
    MyDataTable<span style='color:#808030; '>.</span>Rows<span style='color:#808030; '>.</span>Add<span style='color:#808030; '>(</span>TempRow<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#696969; '>// Write out the data</span>
    MyDataSet<span style='color:#808030; '>.</span>WriteXmlSchema<span style='color:#808030; '>(</span><span style='color:#800000; '></span><span style='color:#0000e6; '>D:\MovieSchema.xml</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
</pre>