
@{
    ViewBag.Title = "Drawing Circle with Zoom Animation";
}

<h1>Drawing Circle with Zoom Animation</h1>
<br />
<p>Below code snippet is used to draw a circle using CALayer and add zoom/scale animation.</p>
<pre><span style='color:#800000; font-weight:bold; '>var</span> rectShape <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>new</span> CAShapeLayer <span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
rectShape<span style='color:#808030; '>.</span>Path <span style='color:#808030; '>=</span> UIBezierPath<span style='color:#808030; '>.</span>FromRoundedRect <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>new</span> CGRect <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span>UIScreen<span style='color:#808030; '>.</span>MainScreen<span style='color:#808030; '>.</span>Bounds<span style='color:#808030; '>.</span>Width <span style='color:#808030; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>-</span> <span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> <span style='color:#808030; '>(</span>UIScreen<span style='color:#808030; '>.</span>MainScreen<span style='color:#808030; '>.</span>Bounds<span style='color:#808030; '>.</span>Height <span style='color:#808030; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>-</span> <span style='color:#008c00; '>50</span>
<span style='color:#808030; '>,</span> <span style='color:#008c00; '>100</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>100</span><span style='color:#808030; '>)</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>50</span><span style='color:#808030; '>)</span><span style='color:#808030; '>.</span>CGPath<span style='color:#800080; '>;</span>
rectShape<span style='color:#808030; '>.</span>FillColor <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>UIColor<span style='color:#808030; '>.</span>FromRGB <span style='color:#808030; '>(</span><span style='color:#008c00; '>237</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>27</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>36</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>.</span>CGColor<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>var</span> endShape <span style='color:#808030; '>=</span> UIBezierPath<span style='color:#808030; '>.</span>FromRoundedRect <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>new</span> CGRect <span style='color:#808030; '>(</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>250</span><span style='color:#808030; '>,</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>250</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>1000</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>1000</span><span style='color:#808030; '>)</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>500</span><span style='color:#808030; '>)</span><span style='color:#808030; '>.</span>CGPath<span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>.</span>View<span style='color:#808030; '>.</span>Layer<span style='color:#808030; '>.</span>AddSublayer <span style='color:#808030; '>(</span>rectShape<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>

CABasicAnimation drawAnimation <span style='color:#808030; '>=</span> CABasicAnimation<span style='color:#808030; '>.</span>FromKeyPath <span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>path</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
drawAnimation<span style='color:#808030; '>.</span>SetTo <span style='color:#808030; '>(</span>endShape<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
drawAnimation<span style='color:#808030; '>.</span>Duration <span style='color:#808030; '>=</span> 2f<span style='color:#800080; '>;</span>
drawAnimation<span style='color:#808030; '>.</span>TimingFunction <span style='color:#808030; '>=</span> CAMediaTimingFunction<span style='color:#808030; '>.</span>FromName <span style='color:#808030; '>(</span>CAMediaTimingFunction<span style='color:#808030; '>.</span>EaseIn<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
drawAnimation<span style='color:#808030; '>.</span>FillMode <span style='color:#808030; '>=</span> CAFillMode<span style='color:#808030; '>.</span>Both<span style='color:#800080; '>;</span>
drawAnimation<span style='color:#808030; '>.</span>RemovedOnCompletion <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>false</span><span style='color:#800080; '>;</span>
rectShape<span style='color:#808030; '>.</span>AddAnimation <span style='color:#808030; '>(</span>drawAnimation<span style='color:#808030; '>,</span> drawAnimation<span style='color:#808030; '>.</span>KeyPath<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
</pre>
<p><b>Output:</b> </p>
<img src="~/Images/CALayer_1.jpg" width="150" height="150" />
<img src="~/Images/CALayer_2.jpg" width="150" height="150" />